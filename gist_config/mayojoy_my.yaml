port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: false
mode: rule
log-level: info
ipv6: false
hosts:
  services.googleapis.cn: 142.250.196.131
  www.google.cn: 142.250.196.131
external-controller: 0.0.0.0:9090
clash-for-android:
  append-system-dns: false
profile:
  tracing: true
dns:
  enable: true
  listen: 127.0.0.1:8853
  default-nameserver:
    - 223.5.5.5
    - 8.8.4.4
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-filter:
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - +.msftconnecttest.com
    - +.msftncsi.com
    - msftconnecttest.com
    - msftncsi.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - +.ipv6.microsoft.com
    - +.battlenet.com.cn
    - +.wotgame.cn
    - +.wggames.cn
    - +.wowsgame.cn
    - +.wargaming.net
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - heartbeat.belkin.com
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - "*.ff14.sdo.com"
    - ff.dorado.sdo.com
    - "*.mcdn.bilivideo.cn"
    - +.media.dssott.com
    - +.pvp.net
  nameserver:
    - 114.114.114.114
    - tls://223.5.5.5:853
    - tls://1.12.12.12
  fallback:
    - https://1.0.0.1/dns-query
    - https://public.dns.iij.jp/dns-query
    - tls://8.8.4.4:853
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
    domain:
      - +.facebook.com
      - +.twitter.com
      - +.google.com
      - +.googleapis.com
      - +.google.cn
      - +.googleapis.cn
      - +.xn--ngstr-lra8j.com
      - +.googlevideo.com
      - +.gvt1.com
      - +.gmail.com
      - +.youtube.com
      - +.youtu.be
      - +.gvt0.com
      - +.gvt2.com
      - +.gvt3.com
      - +.gstatic.com
      - +.265.com
      - +.2mdn.net
      - +.app-measurement.com
      - +.c.admob.com
      - +.clickserve.dartsearch.net
      - +.crl.pki.goog
      - +.doubleclick.net
      - +.firebase-settings.crashlytics.com
      - +.google-analytics.com
      - +.googleadservices.com
      - +.googleanalytics.com
      - +.googleoptimize.com
      - +.googlesyndication.com
      - +.googletagmanager.com
      - +.googletagservices.com

d: &d  #æœºåœºè®¢é˜…å‚æ•°
  type: http
  interval: 21600
  health-check:
   enable: true
   url: https://i.ytimg.com/generate_204
   interval: 300

r: &r #åˆ†æµè§„åˆ™è®¢é˜…å‚æ•°
  type: http
  behavior: classical
  interval: 86400

all: &all #æ‰€æœ‰èŠ‚ç‚¹çš„åˆé›†
  type: select
  use:
    - dy1
    - dy2

    #è¿˜æœ‰è®¢é˜…çš„è¯ç»§ç»­å¾€ä¸‹åŠ  dy4 dy5 â€¦â€¦å¦‚æœæ²¡æœ‰é‚£ä¹ˆå¤šå°±æŠŠå¤šä½™çš„åˆ æ‰

#åˆ†å‰²çº¿ï¼Œä¸‹é¢æ˜¯æ”¾ä½ çš„æœºåœºè®¢é˜…é“¾æ¥çš„
proxy-providers:
  dy1:
    <<: *d
    path: ./Proxies/dy1.yaml #ç”Ÿæˆåä¸º'dy1'çš„é…ç½®æ–‡ä»¶
    # å°† ä¸‹é¢ä¸€è¡Œçš„url æ›¿æ¢ä¸ºä½ çš„Clashæœºåœºè®¢é˜…é“¾æ¥
    url: https://ghproxy.com/https://gist.githubusercontent.com/mayojoy/88b2863888eadb08b16ea54316c07717/raw/clash
  HK:
    type: file
    path: ./Proxies/dy1.yaml
    filter: HK|é¦™æ¸¯|æ¸¯|ğŸ‡°ï¸|Hongkong|(?i)Hong
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
 #æ—¥æœ¬èŠ‚ç‚¹
  JP:
    type: file
    path: ./Proxies/dy1.yaml
    filter: æ—¥|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
 #ç¾å›½èŠ‚ç‚¹
  US:
    type: file
    path: ./Proxies/dy1.yaml
    filter: ç¾|ç¾å›½|US|us|åœ£è·è¥¿|å‡¤å‡°åŸ|æ´›æ‰çŸ¶|(?i)States|American
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
 #å°æ¹¾èŠ‚ç‚¹
  TW:
    type: file
    path: ./Proxies/dy1.yaml
    filter: å°|æ¹¾|TW|(?i)Taiwan
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
  #æ–°åŠ å¡èŠ‚ç‚¹
  SG:
    type: file
    path: ./Proxies/dy1.yaml
    interval: 3600
    filter: ç‹®åŸ|æ–°|æ–°åŠ å¡|SG
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204

  KR:
    type: file
    path: ./Proxies/dy1.yaml
    interval: 3600
    filter: éŸ©|éŸ“|é¦–å°”|(?i)KR|Korea
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
  IPLC:
    type: file
    path: ./Proxies/dy1.yaml
    interval: 3600
    filter: æ‰‹æ¸¸|æ¸¸æˆ|ä¸“çº¿|(?i)IPLC|IEPL|game
    health-check:
      enable: true
      interval: 120
      url: http://www.gstatic.com/generate_204
proxies:


#è¿˜æœ‰è®¢é˜…çš„è¯ç»§ç»­å¾€ä¸‹åŠ  dy4 dy5 â€¦â€¦å¦‚æœæ²¡æœ‰é‚£ä¹ˆå¤šå°±æŠŠå¤šä½™çš„åˆ æ‰

#åˆ†å‰²çº¿ï¼Œä¸‹é¢æ˜¯â€œä»£ç†â€é¡µé¢å‡ºç°çš„åˆ†ç»„ï¼Œâ€œnameâ€æ˜¯ä¸€çº§åˆ†ç»„ï¼Œâ€œproxiesâ€æ˜¯äºŒçº§åˆ†ç»„ï¼Œé€‰èŠ‚ç‚¹ç”¨çš„
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - DIRECT
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - IPLCä¸“çº¿
    use:
      - US
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

  - name: â˜ï¸ ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - IPLCä¸“çº¿
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 86400
    use:
       - dy1
  - name: ğŸ“º BiliBili
    type: select
    proxies:
      - DIRECT
  - name: ğŸ¬Netflix
    type: select
    proxies:
      - DIRECT
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - IPLCä¸“çº¿
  - name: ğŸ¼ Emby
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - IPLCä¸“çº¿
  - name: ğŸ›¡ï¸ éšç§é˜²æŠ¤
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - REJECT
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    type: select
    use:
      - HK
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: select
    use:
      - JP
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
    type: select
    use:
      - TW
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
    type: select
    use:
      - US
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
    type: select
    use:
      - SG
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    type: select
    use:
      - KR
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - REJECT
      - DIRECT
  - name: IPLCä¸“çº¿
    type: select
    use:
      - IPLC  
    url: http://www.gstatic.com/generate_204
    interval: 600
    proxies:
      - REJECT
#åˆ†å‰²çº¿ï¼Œä¸‹é¢æ˜¯åˆ†æµè§„åˆ™
rule-providers:


  BiliBili:
    <<: *r
    url: "https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./Rules/bilibili.yaml



  Netflix:
    <<: *r
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script/rule/Clash/Netflix/Netflix.yaml
    path: ./Rules/Netflix.yaml

  Emby:
    <<: *r
    url: "https://raw.fastgit.org/justdoiting/emby-rules/main/Emby.yaml"
    path: ./Rules/Emby.yaml

  BanEasyPrivacy:
    <<: *r
    url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Privacy/Privacy_Classical.yaml"
    path: ./Rules/BanEasyPrivacy.yaml

  Download:
    <<: *r
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script/rule/Clash/Download/Download.yaml
    path: ./Rules/Download.yaml
  reject:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: ./ruleset/reject.yaml
    interval: 86400
  icloud:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt
    path: ./ruleset/icloud.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt
    path: ./ruleset/apple.yaml
    interval: 86400
  google:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt
    path: ./ruleset/google.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt
    path: ./ruleset/proxy.yaml
    interval: 86400
  direct:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt
    path: ./ruleset/direct.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt
    path: ./ruleset/private.yaml
    interval: 86400
  telegramcidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt
    path: ./ruleset/telegramcidr.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt
    path: ./ruleset/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: ./ruleset/lancidr.yaml
    interval: 86400
  applications:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt
    path: ./ruleset/applications.yaml
    interval: 86400
  TikTok:
    type: http
    behavior: classical
    path: ./ruleset/TikTok.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/TikTok/TikTok.yaml
    interval: 86400
  Twitter:
    type: http
    behavior: classical
    path: ./ruleset/Twitter.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Twitter/Twitter.yaml
    interval: 86400
  Google:
    type: http
    behavior: classical
    path: ./ruleset/Google.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Google/Google.yaml
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    path: ./ruleset/Spotify.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Spotify/Spotify.yaml
    interval: 86400
  Facebook:
    type: http
    behavior: classical
    path: ./ruleset/Facebook.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Facebook/Facebook.yaml
    interval: 86400
  Github:
    type: http
    behavior: classical
    path: ./ruleset/Github.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
    interval: 86400
  ChinaIP:
    type: http
    behavior: ipcidr
    path: ./RuleSet/Extra/ChinaIP.yaml
    url: https://cdn.jsdelivr.net/gh/DivineEngine/Profiles@master/Clash/RuleSet/Extra/ChinaIP.yaml
    interval: 86400
  PayPal:
    type: http
    behavior: classical
    path: ./ruleset/PayPal.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PayPal/PayPal.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    path: ./ruleset/OneDrive.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/OneDrive/OneDrive.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    path: ./ruleset/Microsoft.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    path: ./ruleset/YouTube.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/YouTube/YouTube.yaml
    interval: 86400

  GoogleFCM:
    type: http
    behavior: classical
    path: ./ruleset/GoogleFCM.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/Clash/GoogleFCM/GoogleFCM.yaml
    interval: 86400

rules:
  - GEOIP,,DIRECT
  - GEOIP,CN,DIRECT
  - RULE-SET,direct,DIRECT
  - DOMAIN-KEYWORD,18comic,ğŸ¬Netflix
  - DOMAIN-SUFFIX,fast.com,ğŸ¬Netflix
  - DOMAIN-SUFFIX,ooklaserver.net,ğŸ¬Netflix
  - DOMAIN-SUFFIX,speed.cloudflare.com,ğŸ¬Netflix
  - DOMAIN-SUFFIX,speed.dler.io,ğŸ¬Netflix
  - DOMAIN-KEYWORD,speedtest,ğŸ¬Netflix
  - RULE-SET,Github,ğŸ¬Netflix
  - RULE-SET,Netflix,ğŸ¬Netflix
  - RULE-SET,telegramcidr,â˜ï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,applications,DIRECT
  - RULE-SET,PayPal,ğŸ¬Netflix
  - RULE-SET,Google,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,TikTok,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Spotify,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,TikTok,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Facebook,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,YouTube,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,GoogleFCM,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,yacd.haishan.me,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,reject,ğŸ›¡ï¸ éšç§é˜²æŠ¤
  - RULE-SET,icloud,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,google,DIRECT
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,cncidr,DIRECT
  - RULE-SET,proxy,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,OneDrive,â“‚ï¸ å¾®è½¯æœåŠ¡
  - DOMAIN-KEYWORD,18comic,â˜ï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,BiliBili,ğŸ“º BiliBili
  - RULE-SET,Netflix,ğŸ¬Netflix
  - RULE-SET,Emby,ğŸ¼ Emby
  - RULE-SET,BanEasyPrivacy,ğŸ›¡ï¸ éšç§é˜²æŠ¤
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼